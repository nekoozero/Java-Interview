# 队列

队列是一种特殊的线性表，其插入操作只能在表的尾部进行，删除操作只能在表头进行。在队列中允许进行插入操作的一端称为队尾，允许进行删除操作的另一端称为队首。在队列{a0,a1,……,an}中称为队首元素，an称为队尾元素。通常，队里的插入操作叫入队，队列的删除操作叫出队。没有数据元素的队列称为空队列。

由于插入和删除分别是在对尾和队首进行，最先入队的元素总是最先出队，因此队列具有先进先出的特点。

队列的java接口实现主要由以下两种方法：
1. 基于顺序存储的实现，为顺序队列。
2. 基于链式队列的实现，为链队列。

## 顺序队列

顺序队列的存储结构与顺序栈相似，可用数组实现，因为入队和出队操作分别在队尾和队首进行，所以增加变量 front 来指示队首元素的位置，rear 指示队尾元素的下一个存储单位的位置。

### 循环顺序队列类的描述及实现

分析发现，顺序队列的多次入队和出队操作会造成有存储空间却不能进行入队操作的“假溢出”现象。

顺序队列之所以会出现“假溢出”的现象是因为顺序队列的存储单元没有重复使用机制，为了解决顺序队列因数组下标越界而引起的“溢出”问题，可将顺序序列的首位相连，形成循环顺序队列。

此队列最多存放 maxSize-1 个数据元素，队空的判定条件为 front == rear，队满的判定条件为 front=(reat+1)%maxSize。

```java
//入队
public void offer(Object x) throws Exception{
    if((rear+1)%maxSize == front)
        throw new Exception("队列已满");
    queueElem[rear]=x;
    readr = (rear+1)%maxSize;
} 
```

```java
//出队
public Object poll(){
    if(rear == front)
        return null;
    Object p = queueElem[front];
    front = (front+1)%maxSize;
    return p;
} 
```

## 链队列

链队列用单链表实现，由于入队和出队分别在队列的队尾和队首进行，不存在在队列的任意位置进行插入和删除的情况，所以不需要设置头结点，只需要将指针 front 和 rear 分别指向队首节点和队尾节点，每个节点的指针域指向其后继节点即可。

```java
//入队
public void offer(Object x) throws Exception{
    Node s = new Node(x);
    if(!isEmpty()){
        rear.next = s;
        rear = s;
    }else{
        front = rear=s;
    }
}
```

```java
//出队
public Object poll(){
    if((front==null))
        return null;
    Node p = front;
    front = front.next;
    if(p==rear)   //删除节点为队尾节点时需要修改rear
        rear=null;
    reutrn p.data;
}
```

# 栈和队列的比较

相同点：
- 均为线性结构，数据元素间具有“一对一”的逻辑关系；
- 都有顺序存储和链式存储的两种实现方式；
- 操作受限，插入操作均在表尾进行（优先级队列除外）；
- 插入和删除操作都具有常数时间。

不同点：
- 栈删除操作在表尾进行，具有后进先出特性；队列的删除操作在表头进行，具有先进先出特性。
- 顺序栈可以实现多栈空间共享，而顺序队列则不同。

# 小结

1. 栈是一种特殊的线性表，他只允许在栈顶进行插入和删除操作，具有后进后出的特性，各种运算的时间复杂度为 O(1)。栈采用顺序存储结构或者链式存储结构。
2. 队列是一种特殊的线性表，他只允许在表头进行删除操作、在表尾进行插入操作，具有先进先出的特性，各种运算的时间复杂度为 O(1)。队列采用顺序存储结构或者链式存储结构。
3. 循环队列是将顺序队列的首位相连，解决“假溢出”现象的发生。
4. 优先级队列是在普通队列的基础上将队列中的数据元素按照关键字的值进行有序排列，在表头进行删除操作，插入操作按照优先级插入到队列的合适位置。