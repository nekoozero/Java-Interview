# 栈

栈是一种特殊的线性表，其插入、删除操作只能在表的尾部进行。在栈中允许进行插入、删除操作的一端称为栈顶，另一端称为栈底。在栈中，头元素称为栈顶元素，尾元素称为栈底元素。通常，栈的插入操作叫做入栈，栈的删除操作叫做出栈。
由于栈的插入和删除操作只允许在栈顶进行，每次入栈的元素即成为栈顶元素，每次最先出栈的总是栈顶元素，所以栈是一种后进后出的线性表。就像一摞盘子，每次将一个盘子摞在最上面，每次从最上面取一只盘子，不能从中间插进或者插出。

栈的java接口的实现方法主要有以下两种方法：
1. 基于顺序存储的实现，为顺序栈；
2. 基于链式存储的实现，为链栈；

Stack是java中的栈的实现类，但由于其继承了Vector类，已经过时了，现在java中的栈的应用是接口Deque。

Deque是一个双端队列继承了Queue接口，只允许在一端进行入队和出队的队列，便可视为是一个栈，其本身是一个队列。常用的实现类是LinkedList。

## 顺序栈

顺序栈用数组实现，因为入站和出站操作都是在站定进行，所以增加变量top来指示栈顶元素存储位置的下一个存储单元的位置，空栈时 top=0。

### 入栈操作

1. 判断顺序栈是否为满，若满则抛出异常。
2. 将 x 存入top所指的存储单元为止。
3. top 加 1。

```java
//入栈
public void push(Object x){
    if(top == maxSize)
        throw new Exception("栈已满");
    stackElem[top] = x;
    top++;
}
```

### 出栈操作

1. 判断顺序栈是否为空，若空则返回null。
2. top 减一。
3. 返回top所指的栈顶元素的值。

```java
public Object pop(){
    if(isEmpty())
        return null;
    top--;
    return stackElem[top];
}
```

分析可得，入栈和出栈操作的实现为顺序表的尾插入和尾删除，时间复杂度为 O(1)。

## 链栈

采用链式存储结构的栈成为链栈，由于入栈和出栈只能在栈顶进行，不存在在栈的任意位置进行插入和删除的操作，所以不需要设置头节点，只需要将指针 top 指向栈顶元素节点，每个节点的指针域指向其后继节点即可。

### 入栈操作

1. 构造数据值域为 x 的新节点。
2. 改变新节点和首节点的指针域，使新节点称为新的栈顶节点。

```java
public void push(Object x) throws Exception{
    Node s = new Node(x);
    s.next = top;
    top = s;
}
```

### 出栈操作

1. 判断链栈是否为空，若空则返回null。
2. 修改 top 指针域的值，返回被删除节点的数据域值。

```java
public Object pop(){
    if(isEmpty())
        return null;
    Node p = top;
    top = top.next;
    return p.data; 
}
```

分析可得，使用链表实现栈，入栈和出栈操作的实现为单链表的头插入和头删除，时间复杂度为 O(1)。

